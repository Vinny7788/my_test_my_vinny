using System;

namespace School
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string CommandAddDossier = "1";
            const string CommandPrintAllDossier = "2";
            const string CommandDeleteDossier = "3";
            const string CommandSerch = "4";
            const string CommandExit = "5";

            int delay = 4500;
            string userInput;
            string userInputFullName;
            string userInputPosition;
            bool isWorking = true;

            string[] fullName = new string[] { "Ariana Ford", "Rose Everett", "Gerald Deleon", "Rory Raymond", "Ayah Finley", "Krystal Barnes", "Yousuf Gallegos", "Maxwell Rubio", "Lulu Hobbs", "Alistair Vaughan" };
            string[] position = new string[] { "CEO", "Administrative Assistant", "Receptionist", "Executive Assistant", "Human Resources Manager", "Marketing Manager", "Sales Manager", "Customer Service Representative", "Project Manager", "Accountant" };

            ChangeColor(ConsoleColor.White, ConsoleColor.Black);

            while (isWorking)
            {
                Clear();
                PrintMainText(CommandAddDossier, CommandPrintAllDossier, CommandDeleteDossier, CommandSerch, CommandExit);

                switch (Console.ReadLine())
                {
                    case CommandAddDossier:
                        Clear();
                        Console.WriteLine("Write The Full Name: ");
                        userInputFullName = Console.ReadLine();

                        Console.WriteLine("Write The Position");
                        userInputPosition = Console.ReadLine();

                        fullName = AddDossier(fullName, userInputFullName);
                        position = AddDossier(position, userInputPosition);

                        TextChangeColor("Operation Completed!!!", ConsoleColor.Green);
                        System.Threading.Thread.Sleep(delay);
                        break;

                    case CommandPrintAllDossier:
                        Clear();
                        ReadArray(fullName, position);

                        Console.WriteLine("Press any key...");
                        Console.ReadLine();
                        break;

                    case CommandDeleteDossier:
                        Clear();
                        TextChangeColor("Write the file index to delete it: ", ConsoleColor.Magenta);
                        userInput = Console.ReadLine();

                        DeleteDossier(ref fullName, ref position, userInput, delay);
                        break;

                    case CommandSerch:
                        Clear();
                        TextChangeColor("Please write the last name:", ConsoleColor.Magenta);
                        userInput = Console.ReadLine();

                        Search(fullName, position, userInput, delay);
                        break;

                    case CommandExit:
                        Clear();
                        isWorking = Exit(isWorking);
                        break;
                }
            }
        }

        static void Search(string[] fullName, string[] position, string userInput, int delay)
        {
            int oneSkipping = 1;
            bool isSercheComplite = false;

            for (int i = 0; i < fullName.Length; i++)
            {
                string[] split = fullName[i].Split(' ');

                if (split[1].ToLower() == userInput.ToLower())
                {
                    Console.WriteLine($"{i + oneSkipping}/ {fullName[i]} - {position[i]}");
                    isSercheComplite = true;
                    System.Threading.Thread.Sleep(2000);
                    break;
                }
                else
                {
                    isSercheComplite = false;
                }
            }

            if (!isSercheComplite)
            {
                Clear();
                TextChangeColor($"\aUser Not Found !!! -  {userInput}");
                System.Threading.Thread.Sleep(delay);
                Clear();
            }
        }

        static void DeleteDossier(ref string[] fullName, ref string[] position, string ussetInput, int delay)
        {
            int oneSkipping = 1;
            int number = int.Parse(ussetInput);
            int dossierNumber;

            if (number > 0 && number <= fullName.Length)
            {
                dossierNumber = number - oneSkipping;

                Console.WriteLine($"Dossier #{number} {fullName[number - oneSkipping]} - {position[number - oneSkipping]}. Was deleted.");
                TextChangeColor("Operation Completed!!!\n", ConsoleColor.Green);

                fullName = Delete(fullName, dossierNumber);
                position = Delete(position, dossierNumber);
                System.Threading.Thread.Sleep(5000);
            }
            else
            {
                Clear();
                TextChangeColor("\aError! Dossier not found!", ConsoleColor.Red);
                System.Threading.Thread.Sleep(delay);
            }
        }

        static string[] AddDossier(string[] array, string userInput)
        {
            int oneSkipping = 1;
            string[] tempArray = new string[array.Length + oneSkipping];

            for (int i = 0; i < array.Length; i++)
            {
                tempArray[i] = array[i];
            }

            tempArray[tempArray.Length - 1] = userInput;
            array = tempArray;
            return array;
        }

        static void ChangeColor(ConsoleColor backGroundColor, ConsoleColor color)
        {
            Console.BackgroundColor = backGroundColor;
            Console.ForegroundColor = color;
            Console.Clear();
        }

        static void ReadArray(string[] arrayOne, string[] arrayTwo)
        {
            int oneSkipping = 1;
            for (int i = 0; i < arrayOne.Length; i++)
            {
                Console.WriteLine($"{i + oneSkipping}/ {arrayOne[i]} - {arrayTwo[i]}");
            }

        }

        static bool Exit(bool isWorking)
        {
            isWorking = false;
            return isWorking;
        }

        static void TextChangeColor(string text, ConsoleColor color = ConsoleColor.Red)
        {
            Console.ForegroundColor = color;
            Console.WriteLine(text);
            Console.ForegroundColor = default(ConsoleColor);
        }

        static void PrintMainText(string CommandAddDossier, string CommandPrintAllDossier, string CommandDeleteDossier, string CommandSerch, string CommandExit)
        {
            Console.ForegroundColor = ConsoleColor.Magenta;
            Console.WriteLine("Parameters: ");
            Console.WriteLine($"{CommandAddDossier} --- Add a new file.");
            Console.WriteLine($"{CommandPrintAllDossier} --- Open all files.");
            Console.WriteLine($"{CommandDeleteDossier} --- Delete a file (search by number).");
            Console.WriteLine($"{CommandSerch} --- Search for a file by last name.");
            Console.WriteLine($"{CommandExit} --- Quit the program.");
            Console.ForegroundColor = default(ConsoleColor);
            Console.Write("Write the command:");
        }

        static void Clear()
        {
            Console.Clear();
        }

        static string[] Delete(string[] array, int number)
        {
            int oneSkipping = 1;
            string[] tempArray = new string[array.Length - 1];

            for (int i = 0; i < number; i++)
            {
                tempArray[i] = array[i];
            }

            for (int i = number; i < array.Length - oneSkipping; i++)
            {
                tempArray[i] = array[i + oneSkipping];
            }

            array = tempArray;
            return array;
        }
    }
}
