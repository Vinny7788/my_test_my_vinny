using System;
using System.CodeDom;
using System.ComponentModel;
using System.ComponentModel.Design;

namespace School
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string CommandFireballs = "1";
            const string CommandHeavenlyThunder = "2";
            const string CommandWrathOfTheGods = "3";
            const string CommandHeavenlyShield = "4";

            int enemyPower;
            int playerHelth = 150;
            int enemyHelth = 250;
            int healthRestored = 45;
            int fireballsPower = 15;
            int heavenlyThunderPower = 35;
            int wrathOfTheGodsPower = 75;
            string userInput;
            string enemyAtackLevel;
            string playerSafeInput;
            string leftHit = "1";
            string rightHit = "2";
            string topHit = "3";
            string activeWord = "Active";
            string inactiveWord = "Inactive";
            string statusOfWrathOfTheGods = inactiveWord;
            bool useAtacUse = false;
            bool isPlaing = true;

            Console.BackgroundColor = ConsoleColor.White;
            Console.ForegroundColor = ConsoleColor.Black;
            Console.Clear();
            Console.WriteLine("Rulles: ");
            Console.WriteLine("1 Fireballs: They deal 15 damage.");
            Console.WriteLine("2 Thunder from the heavens: This power summons Zeus and deals 35 damage.");
            Console.WriteLine("3 Wrath of the gods: This is the most powerful attack that can only be used after \n activating the Thunder from the heavens attack. It deals 75 damage.");
            Console.WriteLine("4 Celestial shield: It can be used only 3 times and restores 25 health points.");
            Console.WriteLine("After each attack, the boss will attempt to attack you, and you  \n need to choose 3 directions from which the strike will come and place your shield there.\n If you succeed, you won't take any damage.");
            Console.WriteLine("Press any button to start the game!!!");
            Console.ReadLine();

            while (isPlaing)
            {
                enemyAtackLevel = Convert.ToString(new Random().Next(1,4));
                enemyPower = new Random().Next(15, 71);
                Console.Clear();
                Console.WriteLine("Player helth: " + playerHelth + "\n" +"Enemy helth: " + enemyHelth);
                Console.WriteLine(" Chose attack:\n ");
                Console.WriteLine($" Fireballs - {CommandFireballs} \n Thunder from the heavens - {CommandHeavenlyThunder} ");
                Console.WriteLine($" Wrath of the gods - {CommandWrathOfTheGods}  {statusOfWrathOfTheGods} \n Celestial shield - {CommandHeavenlyShield} ");
                userInput = Console.ReadLine();

                switch (userInput)
                {

                    case (CommandFireballs):
                        Console.Clear ();
                        enemyHelth -= fireballsPower;
                        Console.WriteLine($"Great! You hit the enemy, and they have {enemyHelth}hp left");
                        Console.WriteLine($"Get ready! The enemy is attacking! Choose the side from wich he will beat:");
                        Console.WriteLine($"Left - {leftHit}\nRight - {rightHit}\nTop - {topHit}" );
                        playerSafeInput = Convert.ToString(Console.ReadLine());

                        if (playerSafeInput == enemyAtackLevel)
                        {
                            Console.WriteLine("Great! You repulsed the attck and saved HP!"); 
                            Console.ReadLine ();
                            break;
                        }
                        else if (playerSafeInput != enemyAtackLevel)
                        {
                            playerHelth -= enemyPower;
                            Console.WriteLine("Oh no! He hit you!");

                            if (enemyAtackLevel == leftHit)
                            {
                                Console.WriteLine($"The attack came from the Left");
                            }
                            else if (enemyAtackLevel == rightHit)
                            {
                                Console.WriteLine($"The attack came from the Right");                             
                            }
                            else if (enemyAtackLevel == topHit)
                            {
                                Console.WriteLine($"The attack came from the Top");   
                            }
                            Console.WriteLine($"He deducted {enemyPower}HP from you! ");
                            Console.WriteLine($"You have {playerHelth} HP!");
                            Console.ReadLine () ;
                            break;
                        }
                        break;

                    case (CommandHeavenlyThunder):
                        Console.Clear ();  
                        enemyHelth -= heavenlyThunderPower;
                        useAtacUse = true;
                        statusOfWrathOfTheGods = activeWord;
                        Console.WriteLine($"Great! You hit the enemy, and they have {enemyHelth}hp left");
                        Console.WriteLine($"Get ready! The enemy is attacking! Choose the side from wich he will beat:");
                        Console.WriteLine($"Left - {leftHit}\nRight - {rightHit}\nTop - {topHit}");
                        playerSafeInput = Convert.ToString(Console.ReadLine());

                        if (playerSafeInput == enemyAtackLevel)
                        {
                            Console.WriteLine("Great! You repulsed the attck and saved HP!");
                            Console.ReadLine();
                            break;
                        }
                        else if (playerSafeInput != enemyAtackLevel)
                        {
                            playerHelth -= enemyPower;
                            Console.WriteLine("Oh no! He hit you!");

                            if (enemyAtackLevel == leftHit)
                            {
                                Console.WriteLine($"The attack came from the Left");
                            }
                            else if (enemyAtackLevel == rightHit)
                            {
                                Console.WriteLine($"The attack came from the Right");
                            }
                            else if (enemyAtackLevel == topHit)
                            {
                                Console.WriteLine($"The attack came from the Top");
                            }
                            Console.WriteLine($"He deducted {enemyPower}HP from you! ");
                            Console.WriteLine($"You have {playerHelth} HP!");
                            Console.ReadLine();
                            break;
                        }
                        break;

                    case (CommandWrathOfTheGods):

                        if (useAtacUse)
                        {
                            Console.Clear();
                            useAtacUse = false;
                            statusOfWrathOfTheGods = inactiveWord;
                            enemyHelth -= wrathOfTheGodsPower;
                            Console.WriteLine($"Great! You hit the enemy, and they have {enemyHelth}hp left");
                            Console.WriteLine($"Get ready! The enemy is attacking! Choose the side from wich he will beat:");
                            Console.WriteLine($"Left - {leftHit}\nRight - {rightHit}\nTop - {topHit}");
                            playerSafeInput = Convert.ToString(Console.ReadLine());

                            if (playerSafeInput == enemyAtackLevel)
                            {
                                Console.WriteLine("Great! You repulsed the attck and saved HP!");
                                Console.ReadLine();
                                break;
                            }
                            else if (playerSafeInput != enemyAtackLevel)
                            {
                                playerHelth -= enemyPower;
                                Console.WriteLine("Oh no! He hit you!");

                                if (enemyAtackLevel == leftHit)
                                {
                                    Console.WriteLine($"The attack came from the Left");
                                }
                                else if (enemyAtackLevel == rightHit)
                                {
                                    Console.WriteLine($"The attack came from the Right");
                                }
                                else if (enemyAtackLevel == topHit)
                                {
                                    Console.WriteLine($"The attack came from the Top");
                                }
                                Console.WriteLine($"He deducted {enemyPower}HP from you! ");
                                Console.WriteLine($"You have {playerHelth} HP!");
                                Console.ReadLine();
                                break;
                            }    
                        }
                        break;

                    case (CommandHeavenlyShield):
                        Console.Clear();

                        if (playerHelth >= 105)
                        { playerHelth = 150; }
                        else if (playerHelth <= 105)
                        {
                            playerHelth += healthRestored;
                        }
                        Console.WriteLine("Great! You have restored your health");
                        Console.WriteLine($"You have {playerHelth}HP now.");
                        Console.WriteLine($"Get ready! The enemy is attacking! Choose the side from wich he will beat:");
                        Console.WriteLine($"Left - {leftHit}\nRight - {rightHit}\nTop - {topHit}");
                        playerSafeInput = Convert.ToString(Console.ReadLine());

                        if (playerSafeInput == enemyAtackLevel)
                        {
                            Console.WriteLine("Great! You repulsed the attck and saved HP!");
                            Console.ReadLine();
                            break;
                        }
                        else if (playerSafeInput != enemyAtackLevel)
                        {
                            playerHelth -= enemyPower;
                            Console.WriteLine("Oh no! He hit you!");

                            if (enemyAtackLevel == leftHit)
                            {
                                Console.WriteLine($"The attack came from the Left");
                            }
                            else if (enemyAtackLevel == rightHit)
                            {
                                Console.WriteLine($"The attack came from the Right");
                            }
                            else if (enemyAtackLevel == topHit)
                            {
                                Console.WriteLine($"The attack came from the Top");
                            }
                            Console.WriteLine($"He deducted {enemyPower}HP from you! ");
                            Console.WriteLine($"You have {playerHelth} HP!");
                            Console.ReadLine();
                            break;
                        }
                        break;
                }

                if (playerHelth <= 0)
                {
                    Console.WriteLine("Oops! You have loose");
                    isPlaing = false;
                }

            }
        }
    }
}
